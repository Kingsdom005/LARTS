//
// Created by dongl on 25-2-20.
//

#include <rtems.h>
#include <rtems/enhancetask/enhance_cfg.h>


#define RTEMS_ENABLE_RTP
#define CONFIGURE_ENABEL_RTEMS_RTP_CLASSIC_API
#define CONFIGURE_INIT_TASK_NAME             rtems_build_name( 'U', 'I', '1', ' ' )
#define CONFIGURE_INIT_TASK_STACK_SIZE       RTEMS_ENHANCE_KSTACK_SIZE
#define CONFIGURE_INIT_TASK_PRIORITY         1
#define CONFIGURE_INIT_TASK_INITIAL_MODES    RTEMS_ENHANCE_DEFAULT_MODES
#define CONFIGURE_INIT_TASK_ATTRIBUTES       RTEMS_ENHANCE_DEFAULT_ATTRS

// 设备
#define CONFIGURE_APPLICATION_NEEDS_CLOCK_DRIVER
#define CONFIGURE_APPLICATION_NEEDS_CONSOLE_DRIVER
#define CONFIGURE_MAXIMUM_SEMAPHORES (2 * RTEMS_DOSFS_SEMAPHORES_PER_INSTANCE)
#define CONFIGURE_APPLICATION_NEEDS_LIBBLOCK
#define CONFIGURE_FILESYSTEM_DOSFS

// classic init
#define CONFIGURE_RTEMS_INIT_TASKS_TABLE
#define CONFIGURE_EXECUTIVE_RAM_SIZE    (1024 * 1024 * 80)
#define CONFIGURE_MAXIMUM_TASKS         4096
#define CONFIGURE_IDLE_TASK_STACK_SIZE  0x4000
#define CONFIGURE_MICROSECONDS_PER_TICK 1000 // 滴答   1ms
#define CONFIGURE_TICKS_PER_TIMESLICE   50   // 时间片 50ms

// 配置启用管道（RTEMS无论有名管道还是匿名管道实现均为有名）
#define CONFIGURE_IMFS_ENABLE_MKFIFO
// 配置消息队列参数
#define CONFIGURE_MAXIMUM_POSIX_MESSAGE_QUEUES 8
#define CONFIGURE_MAXIMUM_POSIX_MESSAGES 32
#define CONFIGURE_MESSAGE_BUFFER_MEMORY (8 * 0x4000)
// 文件描述符支持数量
#define CONFIGURE_MAXIMUM_FILE_DESCRIPTORS 65535
// 信号队列
#define CONFIGURE_MAXIMUM_POSIX_QUEUED_SIGNALS 32


// shell commands
#define CONFIGURE_SHELL_COMMANDS_INIT
#define CONFIGURE_SHELL_COMMANDS_ALL
#define CONFIGURE_SHELL_MOUNT_MSDOS
#define CONFIGURE_SHELL_MOUNT_RFS
#define CONFIGURE_SHELL_DEBUGRFS

#include <rtems/shellconfig.h>

#define CONFIGURE_INIT

#include <rtems/confdefs.h>